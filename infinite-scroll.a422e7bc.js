!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},a=t.parcelRequirea610;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},t.parcelRequirea610=a);var o=a("bpxeT"),i=a("2TvXO"),u=a("1zY8r"),s=a("6JpON"),c=a("ckYVG");a("5IjG7");var l=new(0,c.PixabayAPI),f={form:document.querySelector(".search-form"),input:document.querySelector(".form-input"),submitBtn:document.querySelector(".search-btn"),gallery:document.querySelector(".gallery"),sentinel:document.querySelector(".sentinel")};f.form.addEventListener("submit",(function(e){return d.apply(this,arguments)}));var p=0;function d(){return(d=e(o)(e(i).mark((function t(r){return e(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),f.gallery.innerHTML="",""!==f.input.value.trim()){t.next=6;break}return e(s).Notify.failure("Sorry, your search query is empty. Please try again."),f.input.value="",t.abrupt("return");case 6:return p=0,l.page=1,l.query=f.input.value.trim(),t.prev=9,t.next=12,l.fetchPhotos();case 12:h(t.sent.data),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(9);case 19:f.input.value="";case 20:case"end":return t.stop()}}),t,null,[[9,16]])})))).apply(this,arguments)}function y(){return(y=e(o)(e(i).mark((function t(){return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.fetchPhotos();case 3:h(e.sent.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function h(t){0!==t.total&&""!==l.query?(1===l.page&&t.totalHits>0&&e(s).Notify.info("Hooray! We found ".concat(t.totalHits," images.")),l.page+=1,function(e){f.gallery.insertAdjacentHTML("beforeend",(0,u.default)(e.hits)),p+=e.hits.length,f.loadBtn.classList.remove("is-hidden")}(t)):e(s).Notify.failure("Sorry, there are no images matching your search query. Please try again.")}var v=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&""!==l.query&&(console.log(e),console.log(p),function(){y.apply(this,arguments)}(),l.page+=1)}))}),{rootMargin:"150px"});v.observe(f.sentinel)}();
//# sourceMappingURL=infinite-scroll.a422e7bc.js.map
