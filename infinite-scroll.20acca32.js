!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},a=t.parcelRequirea610;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},t.parcelRequirea610=a);var o=a("bpxeT"),i=a("2TvXO"),u=a("1zY8r"),s=a("ckYVG"),c=a("6JpON"),l=a("5IjG7"),f=new(0,s.PixabayAPI),p={form:document.querySelector(".search-form"),input:document.querySelector(".form-input"),submitBtn:document.querySelector(".search-btn"),gallery:document.querySelector(".gallery"),sentinel:document.querySelector(".sentinel")};p.form.addEventListener("submit",(function(e){return v.apply(this,arguments)}));var y,d=0,h=0;function v(){return(v=e(o)(e(i).mark((function t(r){return e(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),p.gallery.innerHTML="",""!==p.input.value.trim()){t.next=6;break}return e(c).Notify.failure("Sorry, your search query is empty. Please try again."),p.input.value="",t.abrupt("return");case 6:return d=0,f.page=1,f.query=p.input.value.trim(),t.prev=9,t.next=12,f.fetchPhotos();case 12:m(t.sent.data),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(9);case 19:p.input.value="";case 20:case"end":return t.stop()}}),t,null,[[9,16]])})))).apply(this,arguments)}function g(){return(g=e(o)(e(i).mark((function t(){return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.destroy(),e.prev=1,e.next=4,f.fetchPhotos();case 4:m(e.sent.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),t,null,[[1,8]])})))).apply(this,arguments)}function m(t){0!==t.total&&""!==f.query?(1===f.page&&t.totalHits>0&&(e(c).Notify.info("Hooray! We found ".concat(t.totalHits," images.")),h=t.totalHits),f.page+=1,function(e){p.gallery.insertAdjacentHTML("beforeend",(0,u.default)(e.hits)),d+=e.hits.length}(t),(y=new(e(l))(".gallery a",{captionDelay:250})).refresh(),d>=500&&e(c).Notify.info("We're sorry, but you've reached the end of search results.")):e(c).Notify.failure("Sorry, there are no images matching your search query. Please try again.")}var b=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&""!==f.query&&d<h&&function(){g.apply(this,arguments)}()}))}),{rootMargin:"200px"});b.observe(p.sentinel)}();
//# sourceMappingURL=infinite-scroll.20acca32.js.map
