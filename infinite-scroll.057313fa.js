function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},o=t.parcelRequirea610;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var o={id:e,exports:{}};return r[e]=o,t.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},t.parcelRequirea610=o);var a=o("4TmbC"),i=o("7Y9D8"),l=o("dgPer");o("fZKcF");const u=new(0,l.PixabayAPI),s={form:document.querySelector(".search-form"),input:document.querySelector(".form-input"),submitBtn:document.querySelector(".search-btn"),gallery:document.querySelector(".gallery"),sentinel:document.querySelector(".sentinel")};s.form.addEventListener("submit",(async function(t){if(t.preventDefault(),s.gallery.innerHTML="",""===s.input.value.trim())return e(i).Notify.failure("Sorry, your search query is empty. Please try again."),void(s.input.value="");c=0,u.page=1,u.query=s.input.value.trim();try{const{data:e}=await u.fetchPhotos();f(e)}catch(e){}s.input.value=""}));let c=0;function f(t){0!==t.total&&""!==u.query?(1===u.page&&t.totalHits>0&&e(i).Notify.info(`Hooray! We found ${t.totalHits} images.`),u.page+=1,function(e){s.gallery.insertAdjacentHTML("beforeend",(0,a.default)(e.hits)),c+=e.hits.length,s.loadBtn.classList.remove("is-hidden")}(t)):e(i).Notify.failure("Sorry, there are no images matching your search query. Please try again.")}new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&""!==u.query&&(console.log(e),console.log(c),async function(){try{const{data:e}=await u.fetchPhotos();f(e)}catch(e){}}(),u.page+=1)}))}),{rootMargin:"150px"}).observe(s.sentinel);
//# sourceMappingURL=infinite-scroll.057313fa.js.map
